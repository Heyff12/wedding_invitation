__cjsload("c4",'\'use strict\';function a(b,c){this.element=b;this.isActive=!1;this.j=!!c;this.b={};h.addDomListener(window,"blur",n(this.reset,this));h.addDomListener(document,"click",n(this.onClick,this));g&&2==p?(h.addDomListener(document,"keydown",n(this.onKeypress,this)),h.addDomListener(document,"keypress",n(this.onKeydown,this))):(h.addDomListener(document,"keydown",n(this.onKeydown,this)),h.addDomListener(document,"keypress",n(this.onKeypress,this)));h.addDomListener(document,"keyup",n(this.onKeyup,this))}function b(a,c){var d=a.get("zoom");q(d)&&a.set("zoom",d+c)}function c(a,b){if(b.ctrlKey||b.altKey||b.metaKey||!a.isActive||!1===a.get("enable"))return!0;var d=r(b);return!d||"INPUT"!=d.nodeName&&"SELECT"!=d.nodeName&&"TEXTAREA"!=d.nodeName?!1:!0}var e=f,h=d,n=V,g=ij,p=ba,r=kj,q=t,p=ba,r=kj,y={38:[0,-1],40:[0,1],37:[-1,0],39:[1,0]},E=[37,38,39,40];e(a,l);var e=a.prototype,B="A AREA BUTTON INPUT LINK OBJECT SELECT TEXTAREA".split(" ");e.onClick=function(a){for(var b=a=r(a);b;){if(b==this.element){this.isActive=!0;a=a.tagName;for(b=0;b<B.length;b++)if(a==B[b])return;window.focus();return}b=b.parentNode}this.isActive=!1};e.onKeydown=function(a){if(c(this,a))return!0;var d=!1;switch(a.keyCode){case 38:case 40:if(this.j){h.trigger(this,"keydown",a);break};case 37:case 39:this.b[a.keyCode]=1;this.timer||(this.anim=new de(100),this.run());d=!0;break;case 34:h.trigger(this,"panbyfraction",0,.75);d=!0;break;case 33:h.trigger(this,"panbyfraction",0,-.75);d=!0;break;case 36:h.trigger(this,"panbyfraction",-.75,0);d=!0;break;case 35:h.trigger(this,"panbyfraction",.75,0);d=!0;break;case 107:case 187:b(this,1);d=!0;break;case 109:case 189:b(this,-1),d=!0}switch(a.which){case 61:case 43:b(this,1);d=!0;break;case 45:case 98:b(this,-1),d=!0}d&&uf(a);return!d};e.onKeypress=function(a){if(c(this,a))return!0;switch(a.keyCode){case 38:case 40:if(this.j){h.trigger(this,"keypress",a);break};case 37:case 39:case 34:case 33:case 36:case 35:case 187:case 107:case 189:case 109:return uf(a),!1}switch(a.which){case 61:case 43:case 45:case 95:return uf(a),!1}return!0};e.onKeyup=function(a){var b=!1;switch(a.keyCode){case 38:case 40:if(this.j){h.trigger(this,"keyup",a);break};case 37:case 39:this.b[a.keyCode]=null,b=!0}return!b};e.run=function(){for(var a=0,b=0,c=!1,d=0;d<E.length;d++)this.b[E[d]]&&(c=y[E[d]],a+=c[0],b+=c[1],c=!0);if(c){var e=1,d="panby";!(1==qa&&2==p)&&this.anim.count<this.anim.fNum&&(e=this.anim.next(),d="panbynow");c=Math.round(15*e*a);e=Math.round(15*e*b);0==c&&(c=a);0==e&&(e=b);h.trigger(this,d,c,e);this.timer=window.setTimeout(n(this.run,this),10)}else this.timer=null};e.reset=function(){this.b={}};R.$setExports(a)');
